@using Microsoft.AspNetCore.Components.Forms;
@using System.Diagnostics.CodeAnalysis;

@inherits InputBase<TimeOnly>

<input type="time" @bind-value="@CurrentValue" class="@CssClass" />

@code {
    protected override bool TryParseValueFromString(
        string? value, 
        [MaybeNullWhen(false)] out TimeOnly result, 
        [NotNullWhen(false)] out string validationErrorMessage)
    {
        if (string.IsNullOrWhiteSpace(value))
        {
            validationErrorMessage = "Invalid time value";
            result = TimeOnly.MinValue;
            return false;
        }
        result = TimeOnly.Parse(value);
        validationErrorMessage = string.Empty;
        return true;
    }
}
